maassql-change-monitor/mssql
=============================
Takes scripts and adds / commits them into a git repository.

Why?
======
* Other methods are not reliable
** traces can be turned off
** triggers can be disabled
* Other methods are undesirable
** don't catch everything
** result in huge space requirements
** require installations on production server
* Customization
** I wanted to decide what is important and what is not important
** I wanted to stay out of the way of production as much as possible
** I wanted to do it my way

How does it work?
==============================
* Create scripts of your database
* Run the monitor
* Monitor :
** waits until the scripts are untouched for 5 minutes
** deletes the contents of the folder : {source control main}/{instance}/{database}/
** copies the scripts to {source control main}/{instance}/{database}/
** adds the scripts to the local git repository
** commits the scripts to the local git repository, putting in the date of scripting, {datetime_scripted}

Source Scripts:
==================
* represent / are generated from a live database.
* Script folder is expected to be named a certain way.  {instance_name}_!_{database_name}_!_{datetime_scripted}_!_{some short random string}
* Could be generated by:
** MS MSSQL libraries : SSMS DMO, SMO, Larry or whatever MS is calling it these days 
** Red Gate's SQL Compare
** Another thrid party tool
** Your own custom code
* MUST be generated using the same settings everytime.  IE - if you put all your objects into 1 file for the first run, don't split them out the second run, and then expect that you will be able to effectively see what has changed.



Installation
==================
* This is with Base or Git Bash ( MINGW32 )
* Open a terminal window
* Paste in this
    GIT_BASE_PATH="/c/DBATools/"
    REPO_URL="git@github.com:maassql-change-monitor/mssql.git"
    YOUR_GIT_HUB_USER_NAME="maass-sql"
    YOUR_EMAIL="maassql@gmail.com"
    
* Paste this code in to check that the variables are set correctly
    ECHO ${GIT_BASE_PATH}
    ECHO ${REPO_URL}
    ECHO ${YOUR_GIT_HUB_USER_NAME}
    ECHO ${YOUR_EMAIL}
    
* Now, this code will get you a copy of the repository
    cd ${GIT_BASE_PATH}
    mkdir maassql-change-monitor
    cd maassql-change-monitor
    mkdir mssql
    cd mssql
    git clone --verbose --progress --recurse-submodules --config user.name="${YOUR_GIT_HUB_USER_NAME}" --config user.email="${YOUR_EMAIL}" ${REPO_URL} "${GIT_BASE_PATH}/maassql-change-monitor/mssql/"
    git config user.name "${YOUR_GIT_HUB_USER_NAME}"
    git config user.email "${YOUR_EMAIL}"
    
* And you can use this code to check up on your new local Git Repo  
    git config --list
    ls -al
    